webpackJsonp([12],{454:function(e,t,a){a(648);var n=a(0)(a(607),a(689),"data-v-30c3e0ba",null);e.exports=n.exports},580:function(e,t,a){e.exports=a.p+"static/img/officedefault.ef70d8f.jpg"},607:function(e,t,a){"use strict";function n(e,t,a){var n="";t.plugin("AMap.Geolocation",function(){var i=new window.AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,maximumAge:0,noIpLocate:0,convert:!0,showButton:!0,buttonPosition:"LB",buttonOffset:new window.AMap.Pixel(10,20),showMarker:!1,showCircle:!0,panToLocation:!0,zoomToAccuracy:!1,GeoLocationFirst:!0});t.addControl(i),i.getCurrentPosition(),window.AMap.event.addListener(i,"complete",function(t){console.log("data",t),n=t.position,a.clear(),a.search(new window.AMap.LngLat(n.getLng(),n.getLat()),new window.AMap.LngLat(e[0],e[1]))}),window.AMap.event.addListener(i,"error",function(){console.log("定位失败"),alert("定位失败!")})})}Object.defineProperty(t,"__esModule",{value:!0});var i=a(19),o=a.n(i),r=a(6),d=a.n(r),s=a(56),c=a.n(s),p=a(5),l=a.n(p),m=a(10),f=a.n(m),u=a(20),b=a(9),w=a(8),g=a(580),h=a.n(g);t.default={name:"send",components:{},mounted:function(){window.document.title="选择寄件站点";var e=new window.AMap.Map("iCenter",{resizeEnable:!0,zoom:14}),t=new window.AMap.Walking({map:e,panel:"panel"});e.plugin("AMap.Geolocation",function(){var i=function(){var i=l()(d.a.mark(function i(o){var r,s,p,m,u,g,v,x,k,y,_;return d.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=e.getBounds(),s=r.getSouthWest(),p=[],p[0]=s.lng,p[1]=s.lat,m=r.getNorthEast(),u=[],u[0]=m.lng,u[1]=m.lat,g=new URLSearchParams,g.append("southwest","["+p+"]"),g.append("northeast","["+u+"]"),i.next=14,f()({url:b.g.location,method:"post",data:g,timeout:2e4,headers:{"content-Type":"application/x-www-form-urlencoded"}});case 14:for(v=i.sent,x=v.data,k=function(i,o){var r=x[i],s=new window.AMap.Marker({position:[r.longitude,r.latitude],draggable:!1});s.setExtData({info:x[i]}),s.setMap(e);var p=r.userId,m=[r.longitude,r.latitude];window.AMap.event.addListenerOnce(s,"click",function(){var i=l()(d.a.mark(function i(o){var r,l,u,g,v,x,k,y,_,M;return d.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=s.getExtData(),l=r.info,i.next=3,f()({method:"get",url:b.a.index,params:{id:p}});case 3:if(u=i.sent,g="",200!==u.status)g="";else{for(v=u.data,x=[],k=0,y=v.length;k<y;k++)_=v[k],x.push(_.brand);g='<p class="pull-brand">接入品牌: '+x+"</p>"}return M="",window.AMapUI.loadUI(["overlay/SimpleInfoWindow"],function(a){function i(){c.open(e,s.getPosition())}function o(){c.close(e,s.getPosition())}M="userId"+l.userId;var r='<div class="officeimg"><img src="'+h.a+'"></div>',d=l.takeState||0;d=0===d?"不支持上门取件":"支持上门取件";var c=new a({infoTitle:'<span>"妙寄"全网站点: '+l.name||"</span>",infoBody:r+'<div class="office-detail"><div class="first-line"><button type="" id="navigation'+M+'" class="navigation-btn">导航</button><p class="office-detail__more">详细<span class="more"><span></span></span></p></div><div class="office-detail__content contenthide"><p>详细地址: '+l.descript+'</p><p>电话号码: <a href="tel:'+l.mobile+'">'+l.mobile+"</a></p></p>"+g+'</div><p class="confirm-p">是否选择该站点为寄件站点?('+d+')</p><div class="confirm-btn-cont"><button type="button" id="'+M+'" class="hide">确定</button><div></div>',offset:new window.AMap.Pixel(0,-31)});window.AMap.event.addListener(s,"touchstart",function(){i()}),i(),t.clear(),setTimeout(function(){window.document.getElementById("navigation"+M).addEventListener("touchstart",function(a){a.stopPropagation(),o(),n(m,e,t)},!0);var a=window.document.getElementsByClassName("office-detail__more")[0],i=window.document.getElementsByClassName("more")[0],r=window.document.getElementsByClassName("office-detail__content")[0];a.addEventListener("touchstart",function(e){e.stopPropagation();var t=i.className,a=r.className,n=/upside/g;n.test(t)?(i.className=t.replace(n,""),r.className+=" contenthide"):(i.className+=" upside",r.className=a.replace("contenthide",""))},!0)},600)}),setTimeout(function(){var e=window.document.getElementById(M);e.addEventListener("touchstart",function(e){e.stopPropagation(),l=c()(l),a.i(w.a)({type:"remove",key:"addressInfo"}),a.i(w.a)({type:"set",key:"addressInfo",val:l}),setTimeout(function(){window.wxvue.$router.push({path:"/send"})},300)},!0),e.className=e.className.replace(/hide/g,"")},1e3),i.abrupt("return");case 10:case"end":return i.stop()}},i,this)}));return function(e){return i.apply(this,arguments)}}())},y=0,_=x.length;y<_;y++)k(y,_);case 18:case"end":return i.stop()}},i,this)}));return function(e){return i.apply(this,arguments)}}(),o=new window.AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,maximumAge:0,noIpLocate:0,convert:!0,showButton:!0,buttonPosition:"LB",buttonOffset:new window.AMap.Pixel(10,20),showMarker:!1,showCircle:!0,panToLocation:!0,zoomToAccuracy:!1,GeoLocationFirst:!0});e.addControl(o),o.getCurrentPosition(),window.AMap.event.addListener(o,"complete",function(t){var a=t.position;new window.AMap.Marker({icon:"http://cms.mingz-tech.com/cdn/marker_19x23.png",title:"我的位置",position:[a.lng,a.lat]}).setMap(e),i(a)}),window.AMap.event.addListener(o,"error",function(){console.log("定位失败")}),window.AMap.event.addListener(e,"dragend",function(){clearTimeout(this.dragendFunc),this.dragendFunc=setTimeout(function(){console.log("start drag"),i()},1100)}),window.AMap.event.addListener(e,"zoomend",function(){clearTimeout(this.zoomendFunc),this.zoomendFunc=setTimeout(function(){console.log("start zoomend"),i()},1100)})})},created:function(){},computed:o()({},a.i(u.b)({site:"getSite",recent:"getSiteRecent"})),updated:function(){},data:function(){return{dragendFunc:"",zoomendFunc:""}},methods:o()({},a.i(u.c)(["addSite"]))}},627:function(e,t,a){t=e.exports=a(171)(),t.push([e.i,'.article[data-v-30c3e0ba]{background-color:#fff;padding:2rem}.article-title[data-v-30c3e0ba]{text-align:center;padding:1rem;font-size:2.1rem}.article-content[data-v-30c3e0ba]{padding-bottom:1rem;text-align:justify;font-size:1.6rem}.article-content[data-v-30c3e0ba]:last-child{padding-bottom:0}.article-content a[data-v-30c3e0ba]{color:#2c3e50}.hide[data-v-30c3e0ba]{display:none}.show[data-v-30c3e0ba]{display:block}.show-important[data-v-30c3e0ba]{display:block!important}.clearfixed[data-v-30c3e0ba]:after{content:"";display:block;clear:both}.flex[data-v-30c3e0ba]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.btg[data-v-30c3e0ba]{border-bottom:1px solid #dedede}.btopg[data-v-30c3e0ba]{border-top:1px solid #dedede}.officeimg[data-v-30c3e0ba]{text-align:center;font-size:0;padding:.4rem .6rem}.officeimg img[data-v-30c3e0ba]{width:100%;max-width:305px;height:auto;border:1px solid #dedede;box-sizing:border-box;border-radius:2px}.office-detail[data-v-30c3e0ba]{padding:0 .6rem}.office-detail p[data-v-30c3e0ba],.vux-tab .vux-tab-item[data-v-30c3e0ba]{font-size:1.4rem}.fixed-fill[data-v-30c3e0ba]{position:fixed;bottom:0;width:94%}.mj-switch[data-v-30c3e0ba]{padding:10px 15px!important}.mj-switch .weui-cell__ft .weui-switch[data-v-30c3e0ba]{width:40px!important;height:20px!important}.mj-switch .weui-cell__ft .weui-switch[data-v-30c3e0ba]:checked{border-color:#ff6d40;background-color:#ff6d40}.mj-switch .weui-cell__ft .weui-switch[data-v-30c3e0ba]:before{width:40px;height:20px}.mj-switch .weui-cell__ft .weui-switch[data-v-30c3e0ba]:after{width:20px;height:18px}.express-router__link[data-v-30c3e0ba]{position:absolute;top:1.8rem;right:1.8rem;text-align:center;border:1px solid #ff6d40;color:#ff6d40;background:#fff;padding:.2rem .8rem;font-size:1.3rem;border-radius:5px}.addaddress-container .weui-cell[data-v-30c3e0ba]{font-size:1.5rem}.addaddress-container .weui-cell__bd.weui-cell__primary input[data-v-30c3e0ba],.addaddress-container .weui-cell__bd textarea[data-v-30c3e0ba]{text-align:right}.addaddress .quyu[data-v-30c3e0ba]{font-size:1.5rem}.addaddress .quyu .vux-cell-box[data-v-30c3e0ba]:before{content:" ";position:absolute;left:0;top:0;right:0;height:1px;border-top:1px solid #d9d9d9;color:#d9d9d9;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scaleY(.5);transform:scaleY(.5);left:15px}.addaddress .quyu .weui-label[data-v-30c3e0ba]{text-align:left;padding-left:.6rem}.addaddress .quyu .vux-popup-picker-select[data-v-30c3e0ba]{color:#666}.addaddress .quyu .vux-popup-picker-select span[data-v-30c3e0ba]{font-size:1.5rem}.contenthide[data-v-30c3e0ba]{-webkit-transform:scale(0);transform:scale(0);height:0}.navigation-btn[data-v-30c3e0ba]{width:4.6rem;font-size:1.4rem;text-align:center;padding:.2rem .4rem;border-radius:5px;box-sizing:border-box;white-space:nowrap;color:#fff;border:none;background:#ff6d40}.map #panel[data-v-30c3e0ba]{top:15px;z-index:999;position:absolute;background-color:#fff;max-height:100%;overflow-y:auto;right:14px;width:282px}.map .amap-marker img[data-v-30c3e0ba]{max-width:19px;max-height:33px}.map .amap-ui-smp-ifwn-container[data-v-30c3e0ba]{font-size:1.4rem}.map .amap-ui-smp-ifwn-def-tr-close[data-v-30c3e0ba]{font-size:2.2rem}.map .h2rem[data-v-30c3e0ba]{height:2rem;overflow:hidden}.map .hauto[data-v-30c3e0ba]{height:auto}.office-detail[data-v-30c3e0ba]{padding-top:.2rem}.office-detail__more[data-v-30c3e0ba]{float:right}.office-detail__content[data-v-30c3e0ba]{-webkit-transition:all .2s ease;transition:all .2s ease;padding-top:1rem}.office-detail .upside[data-v-30c3e0ba]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.office-detail .first-line span.more[data-v-30c3e0ba]{float:right;width:0;height:0;border-width:1.7rem .8rem 0;border-style:solid;border-color:#ff6d40 transparent transparent;margin:.2rem .1rem;position:relative;-webkit-transition:-webkit-transform .6s;transition:-webkit-transform .6s;transition:transform .6s;transition:transform .6s,-webkit-transform .6s}.normal-btn[data-v-30c3e0ba]{width:5.6rem;font-size:1.4rem;text-align:center;padding:.2rem;border-radius:5px;box-sizing:border-box;white-space:nowrap}div.confirm-btn-cont[data-v-30c3e0ba]{text-align:right;padding-top:10px}.confirm-btn[data-v-30c3e0ba],div.confirm-btn-cont button[data-v-30c3e0ba]{width:5.6rem;font-size:1.4rem;text-align:center;padding:.2rem;border-radius:5px;box-sizing:border-box;white-space:nowrap;color:#fff;border:none;background:#ff6d40}.confirm-btn[data-v-30c3e0ba]{float:right}.pull-brand span.more[data-v-30c3e0ba]{float:right;width:0;height:0;border-width:1.3rem .6rem 0;border-style:solid;border-color:#ff6d40 transparent transparent;margin:.2rem .1rem;position:relative;-webkit-transition:-webkit-transform .6s;transition:-webkit-transform .6s;transition:transform .6s;transition:transform .6s,-webkit-transform .6s}.amap-ui-smp-ifwn-container[data-v-30c3e0ba]{max-width:22rem}.amap-ui-smp-ifwn-container span[data-v-30c3e0ba]{white-space:pre-wrap}@media (max-width:320px){.amap-ui-smp-ifwn-container[data-v-30c3e0ba]{max-width:22rem}}@media (min-width:360px){.amap-ui-smp-ifwn-container[data-v-30c3e0ba]{max-width:42rem}}@media (min-width:400px){.amap-ui-smp-ifwn-container[data-v-30c3e0ba]{max-width:47rem}}.confirm-p[data-v-30c3e0ba]{padding-top:1rem;padding-bottom:0}.amap-icon img[data-v-30c3e0ba]{max-width:19px!important;max-height:33px!important}',""])},648:function(e,t,a){var n=a(627);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(447)("0d66864f",n,!0)},689:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"map"},[a("div",{staticStyle:{height:"100vh"},attrs:{id:"iCenter"}}),e._v(" "),a("div",{attrs:{id:"panel"}})])}]}}});